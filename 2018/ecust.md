# 区块链应用技术

Block[hash : txs...: verify] -> Block[hash : txs...: verify] 


## 什么是区块链
- 中本聪和他的BTC
> BTC实际上是一个区块链的应用"数字货币"
> 解决了几个问题
  - 拜占庭将军问题 (一致性, 不可信任的节点数量, 引入时间)
  - 双花问题 (允许不一致和长链选择)
- Fork(分叉)和山寨币
  - Github 上的 Fork
  - 钱包版本的分化
- 其他链的出现
  - 以太坊
  - EOS ....

## 底层原理
- 分布式系统, 参与者, 反作弊
> 典型的 AP 系统, 非常高的可用性, 允许出现分区问题的时候失去一致性
> P2P 网络
  - NAT
> 交易打包
  - Merkle 树
> 密码学 
  - 非对称加密
> 共识机制
  - POW 
  - POS
  - DPOS

## 通常说到的 区块链相关开发
> 底层
  - 链, 公私链, 联盟链
  - 侧链
> 应用层
  - ERC20, ERC721...
  - DAPP : crypto kitties ...

## 开发一条链
- 区块结构
- 交易提交和打包(transaction 池)
- 验证系统(公私钥)
- 共识模块
- P2P网络
- api 和 cli 工具 

## 攻防
- 51算力攻击

## POW
- HASH 算法
1. 碰撞概率小
2. 不可逆推
- Merkle 树
1. 打包交易并生成最终的 HASH
2. HASH值代表了所有交易(可以验证)
- 区块结构
区块头的大小为80字节，由
4字节的版本号、
32字节的上一个区块的散列值、
32字节的Merkle Root Hash、
4字节的时间缀（当前时间）、
4字节的当前难度值、
4字节的随机数组成
- POW 过程
附加数并计算 hash, 直到满足头部有 n 个0
  